<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AZSF - Organogram</title>

    <!-- Favicon -->
    <link rel="icon" href="/assets/favicon.png" type="image/x-icon">

    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0&family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />

    <!-- css -->
    <link rel="stylesheet" href="css/organogram.css">
    <link rel="stylesheet" href="css/general.css">

</head>
<body>
    <!-- Header section -->
    <nav class="nav">

        <a href="home.html" class="logo">
            <img src="/assets/AZSF logo.png" alt="AZSF Logo">
        </a>

        <ul class="nav-links">
            <li><a href="calculator.html">Calculator</a></li>
            <li><a href="nisab.html">Nisab</a></li>
            <li class="nav-active dropdown">
                <a href="about.html">About AZSF <i class="uil uil-angle-down"></i></a>
                <ul class="dropdown-menu">
                    <li><a href="maintain.html">Your Impact</a></li>
                    <li><a href="privacy.html">Privacy Policy</a></li>
                    <li><a href="cookie.html">Cookie Policy</a></li>
                    <li><a href="terms.html">Terms & Condition</a></li>
                    <li><a href="organogram.html">Organogram</a></li>
                </ul>
            </li>
            <li><a href="maintain.html">News & Events</a></li>
            <li><a href="contact.html">Contact Us</a></li>
            <li><a href="apply.html" class="apply">Apply</a></li>
            <i class="uil uil-times navCloseBtn"></i>
        </ul>

        <a class="apply-btn" href="apply.html">
            <button class="btn">Apply</button>
        </a>

        <i class="uil uil-bars navOpenBtn"></i>
    </nav>

    <div class="organogram">
        <img src="assets/organogram.png">
    </div>

    <!-- Download organogram -->
    <button class="download-btn" data-timer="10">
        <i class="fa-solid fa-eye"></i>
        <span class="text">View Now</span>
    </button>

    <script>
        const downloadBtn = document.querySelector(".download-btn");
        const fileLink = "https://drive.google.com/uc?export=download&id=1aYiaLn3YOjL-_o5QBCy7tU1epqA6gZoi";
        const initTimer = () => {
            if(downloadBtn.classList.contains("disable-timer")) {
                return location.href = fileLink;
            }
            let timer = downloadBtn.dataset.timer;
            downloadBtn.classList.add("timer");
            downloadBtn.innerHTML = `Your download will begin in <b>${timer}</b> seconds`;
            const initCounter = setInterval(() => {
                if(timer > 0) {
                    timer--;
                    return downloadBtn.innerHTML = `Your download will begin in <b>${timer}</b> seconds`;
                }
                clearInterval(initCounter);
                location.href = fileLink;
                downloadBtn.innerText = "Your file is downloading...";
                setTimeout(() => {
                    downloadBtn.classList.replace("timer", "disable-timer");
                    downloadBtn.innerHTML = `<span class="icon material-symbols-rounded">vertical_align_bottom</span>
                                            <span class="text">Download Again</span>`;
                }, 3000);
            }, 1000);
        }
        downloadBtn.addEventListener("click", initTimer);
    </script>

    <script src="js/general.js"></script>
</body>
</html>
